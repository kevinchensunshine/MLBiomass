/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var denmark_grid = ee.ImageCollection("users/kevinlc3/denmark_grid_composite");
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var euromap_2018 = ee.Image('JRC/D5/EUCROPMAP/V1/2018');
var denmark_bound = ee.FeatureCollection('USDOS/LSIB_SIMPLE/2017')
            .filter(ee.Filter.eq('country_na', 'Denmark')).geometry();

// Specify grid size in projection, x and y units (based on projection).
var projection='EPSG:4326'; // WGS84 lat lon
var dx=0.5;
var dy=0.25;

// Make grid and visualize.
var proj=ee.Projection(projection).scale(dx, dy);
var grid=denmark_bound.coveringGrid(proj);

Map.addLayer(denmark_bound,{}, 'roi');
Map.addLayer(grid,{}, 'grid');

var assetCollection='users/kevinlc3/denmark_grid_composite';
var imageBaseName='crop_shapes';

var gridSize=grid.size().getInfo();
var gridList=grid.toList(gridSize);

Export.table.toAsset({
  collection: grid,
  description: 'denmark_grids',
  assetId: 'users/kevinlc3/denmark_grids'
});

/*
var denmark_euromap = euromap_2018.clip(denmark_bound)

var wheatlandcovermask = denmark_euromap.select('classification').eq(211)

var wheatfields = denmark_euromap.updateMask(wheatlandcovermask);

var assetId = 'users/kevinlc3/strawberry_california_landcover';

Export.table.toAsset({
  collection: wheatfields_shapes,
  description: 'strawberry_fields_geometry',
  assetId: 'users/kevinlc3/strawberry_fields_geometry'
});
*/

            /*
            

var denmark_euromap = euromap_2018.clip(denmark_bound)

var wheatlandcovermask = denmark_euromap.select('classification').eq(211)

// Apply the mask to the dataset
var wheatfields = denmark_euromap.updateMask(wheatlandcovermask);

var wheatfields_shapes = wheatfields.reduceToVectors({
  geometry: denmark_bound,
  scale: 30, // Adjust the scale based on your data's resolution
  maxPixels: 1e9,
  bestEffort: true,
  eightConnected: true,
  tileScale: 4
});


var assetId = 'users/kevinlc3/strawberry_california_landcover';

Export.table.toAsset({
  collection: wheatfields_shapes,
  description: 'strawberry_fields_geometry',
  assetId: 'users/kevinlc3/strawberry_fields_geometry'
});
*/
